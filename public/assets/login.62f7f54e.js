import{d as V,u as h,D as u,o as g,e as k,g as e,w as s,A as x,j as c,i as n,bt as C,be as v,k as r,ay as f,bu as E,B as T,q as w,l as _,z as B,f as p,bv as S,m as D}from"./index.ddc7c489.js";import{t as d}from"./form.e67fff3c.js";/* empty css              */import{V as I}from"./VForm.7d086d98.js";import{V as b}from"./VTextField.9ad36453.js";import{b as y}from"./route-block.023af118.js";const P="/assets/simple.5f9e6416.png",U={class:"auth-wrapper d-flex align-center justify-center pa-4"},j=p("p",{class:"mb-0"}," Please sign-in with an account allowed on the Enterprise Security Extension Rest Api ",-1),q=p("br",null,null,-1),A=p("br",null,null,-1),i=S(),N={name:"Login",data(){return{username:u(""),password:u("")}},methods:{async login(){let m={username:this.username,password:this.password};await this.$axios.post("/api/login",m).then(t=>{i.updateToken(t.data.token),i.updateUsername(t.data.username),i.updatePassword(this.password),i.updateIsAuthenticated(!0),D.push("/")}).catch(function(t){t.response?d("Error authenticating user, contact your admin ! Details : "+t.response.data,{type:"warning",position:"bottom-center"}):t.request?d("Error in request, contact your admin ! Details : "+t,{type:"warning",position:"bottom-center"}):d("Error, contact your admin ! Details : "+t.message,{type:"warning",position:"bottom-center"})})}}},R=V({...N,setup(m){h();const t=u(!1);return(o,a)=>(g(),k("div",U,[e(B,{class:"auth-card pa-4 pt-7","max-width":"448"},{default:s(()=>[e(x,{class:"justify-center"},{default:s(()=>[e(c,{src:n(C),width:150},null,8,["src"]),e(v,{class:"font-weight-semibold text-2xl text-uppercase"},{default:s(()=>[r(" ESE Companion ")]),_:1})]),_:1}),e(f,{class:"pt-2 text-center"},{default:s(()=>[j]),_:1}),e(f,null,{default:s(()=>[e(I,{onSubmit:E(()=>{},["prevent"])},{default:s(()=>[e(T,null,{default:s(()=>[e(w,{cols:"12"},{default:s(()=>[e(b,{modelValue:o.username,"onUpdate:modelValue":a[0]||(a[0]=l=>o.username=l),label:"Username",type:"text"},null,8,["modelValue"])]),_:1}),e(w,{cols:"12"},{default:s(()=>[e(b,{modelValue:o.password,"onUpdate:modelValue":a[1]||(a[1]=l=>o.password=l),label:"Password",type:n(t)?"text":"password","append-inner-icon":n(t)?"mdi-eye-off-outline":"mdi-eye-outline","onClick:appendInner":a[2]||(a[2]=l=>t.value=!n(t))},null,8,["modelValue","type","append-inner-icon"]),q,e(_,{block:"",type:"submit",onClick:o.login},{default:s(()=>[r(" Login ")]),_:1},8,["onClick"]),A,e(_,{block:"",color:"secondary",variant:"tonal",type:"reset"},{default:s(()=>[r(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1}),e(c,{src:n(P),class:"auth-footer-end-tree d-none d-md-block",width:550},null,8,["src"])]))}});typeof y=="function"&&y(R);export{R as default};
