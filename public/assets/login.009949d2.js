import{d as V,u as y,E as u,o as g,e as k,i as e,w as s,B as E,be as x,l as i,ay as m,bt as C,C as v,s as f,j as n,m as b,A as B,k as w,f as p,bu as S,n as T}from"./index.551e53aa.js";import{t as d}from"./form.50b7d74e.js";/* empty css              */import{V as F}from"./VForm.859299fb.js";import{V as h}from"./VTextField.5d7f987a.js";import{b as _}from"./route-block.011d1056.js";const I="/assets/bee-2.5f903990.png",P="/assets/bee-1.d2c47a0a.png",U={class:"auth-wrapper d-flex align-center justify-center pa-4"},j=p("h5",{class:"text-h5 font-weight-semibold mb-1"}," Welcome to ESE Editor! \u{1F44B}\u{1F3FB} ",-1),A=p("p",{class:"mb-0"}," Please sign-in with an account allowed on the ESE Api ",-1),D=p("br",null,null,-1),r=S(),N={name:"Login",data(){return{username:u(""),password:u("")}},methods:{async login(){let c={username:this.username,password:this.password};await this.$axios.post("/api/login",c).then(t=>{r.updateToken(t.data.token),r.updateUsername(t.data.username),r.updatePassword(this.password),r.updateIsAuthenticated(!0),T.push("/")}).catch(function(t){t.response?d("Error authenticating user, contact your admin ! Details : "+t.response.data,{type:"warning",position:"bottom-center"}):t.request?d("Error in request, contact your admin ! Details : "+t,{type:"warning",position:"bottom-center"}):d("Error, contact your admin ! Details : "+t.message,{type:"warning",position:"bottom-center"})})}}},q=V({...N,setup(c){y();const t=u(!1);return(o,a)=>(g(),k("div",U,[e(B,{class:"auth-card pa-4 pt-7","max-width":"448"},{default:s(()=>[e(E,{class:"justify-center"},{default:s(()=>[e(x,{class:"font-weight-semibold text-2xl text-uppercase"},{default:s(()=>[i(" ESE Editor ")]),_:1})]),_:1}),e(m,{class:"pt-2"},{default:s(()=>[j,A]),_:1}),e(m,null,{default:s(()=>[e(F,{onSubmit:C(()=>{},["prevent"])},{default:s(()=>[e(v,null,{default:s(()=>[e(f,{cols:"12"},{default:s(()=>[e(h,{modelValue:o.username,"onUpdate:modelValue":a[0]||(a[0]=l=>o.username=l),label:"Username",type:"text"},null,8,["modelValue"])]),_:1}),e(f,{cols:"12"},{default:s(()=>[e(h,{modelValue:o.password,"onUpdate:modelValue":a[1]||(a[1]=l=>o.password=l),label:"Password",type:n(t)?"text":"password","append-inner-icon":n(t)?"mdi-eye-off-outline":"mdi-eye-outline","onClick:appendInner":a[2]||(a[2]=l=>t.value=!n(t))},null,8,["modelValue","type","append-inner-icon"]),e(b,{block:"",type:"submit",onClick:o.login},{default:s(()=>[i(" Login ")]),_:1},8,["onClick"]),D,e(b,{block:"",color:"secondary",variant:"tonal",type:"reset"},{default:s(()=>[i(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1}),e(w,{class:"auth-footer-start-tree d-none d-md-block",src:n(P),width:250},null,8,["src"]),e(w,{src:n(I),class:"auth-footer-end-tree d-none d-md-block",width:350},null,8,["src"])]))}});typeof _=="function"&&_(q);export{q as default};
