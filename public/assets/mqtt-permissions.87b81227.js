import{n as f,p as w,r as h,o,q as x,w as e,i as t,s as u,v as g,x as c,y as p,l,z as V,A as C,B as v,C as b,m as B,e as a,ar as i,f as k}from"./index.551e53aa.js";import{_ as O}from"./loading-bee.8d7bf3b7.js";import{V as r}from"./VChip.41e4d8f5.js";const T={name:"MQTTPermissions",data(){return{headers:[{text:"Topic",value:"topic",sortable:!0},{text:"Publish",value:"publish_allowed"},{text:"Subscribe",value:"subscribe_allowed",sortable:!0},{text:"QOS 0",value:"qos_0_allowed",sortable:!0},{text:"QOS 1",value:"qos_1_allowed",sortable:!0},{text:"QOS 2",value:"qos_2_allowed",sortable:!0},{text:"Retain",value:"retained_msgs_allowed",sortable:!0},{text:"Shared",value:"shared_sub_allowed",sortable:!0},{text:"Operations",value:"operation"}],itemsSelected:[],items:[],loading:!0,isEditing:!1,editingItem:null}},methods:{deleteItem(d){f.push("/mqtt-permissions-delete?id="+d.id)},editItem:function(d){f.push("/mqtt-permissions-edit?id="+d.id)}},async mounted(){await this.$axios.get("/api/permissions").then(d=>{this.items=d.data,this.loading=!1}).catch(d=>{console.log(d)})}},q=k("img",{src:O,style:{width:"6.25rem",height:"6.25rem"},alt:"Bee"},null,-1),I={key:0},D={key:1},P={key:0},S={key:1},E={key:0},K={key:1},Q={key:0},A={key:1},N={key:0},R={key:1},L={key:0},M={key:1},$={key:0},H={key:1},j={class:"operation-wrapper"};function F(d,G,J,U,n,_){const m=h("RouterLink"),y=h("EasyDataTable");return o(),x(b,null,{default:e(()=>[t(u,{cols:"12",md:"12"},{default:e(()=>[t(g,null,{prepend:e(()=>[t(c,{size:"small",icon:"mdi-home"})]),default:e(()=>[t(p,null,{default:e(()=>[t(m,{to:"/"},{default:e(()=>[l("Home")]),_:1})]),_:1}),t(V,null,{default:e(()=>[l(" / ")]),_:1}),t(p,null,{default:e(()=>[t(m,{to:"/mqtt-permissions"},{default:e(()=>[l(" MQTT Permissions ")]),_:1})]),_:1})]),_:1})]),_:1}),t(u,{cols:"12"},{default:e(()=>[t(C,{title:"Permissions"},{default:e(()=>[t(v,null,{default:e(()=>[t(b,null,{default:e(()=>[t(u,{cols:"12",md:"6"},{default:e(()=>[l(" List of all MQTT Permissions declared in the ESE database. ")]),_:1}),t(u,{cols:"12",md:"6",class:"text-right"},{default:e(()=>[t(B,{variant:"outlined",size:"small",to:"/mqtt-permissions-add"},{default:e(()=>[l(" New Permission ")]),_:1})]),_:1})]),_:1})]),_:1}),t(v,null,{default:e(()=>[t(y,{"theme-color":"#ffc000","buttons-pagination":"",headers:n.headers,items:n.items,loading:n.loading,"table-class-name":"customize-table","sort-by":"id"},{loading:e(()=>[q]),"item-publish_allowed":e(({publish_allowed:s})=>[s==!0?(o(),a("div",I,[t(r,{color:"success",size:"small"},{default:e(()=>[l(" Allowed ")]),_:1})])):i("",!0),s==!1?(o(),a("div",D,[t(r,{color:"error",size:"small"},{default:e(()=>[l(" Denied ")]),_:1})])):i("",!0)]),"item-subscribe_allowed":e(({subscribe_allowed:s})=>[s==!0?(o(),a("div",P,[t(r,{color:"success",size:"small"},{default:e(()=>[l(" Allowed ")]),_:1})])):i("",!0),s==!1?(o(),a("div",S,[t(r,{color:"error",size:"small"},{default:e(()=>[l(" Denied ")]),_:1})])):i("",!0)]),"item-qos_0_allowed":e(({qos_0_allowed:s})=>[s==!0?(o(),a("div",E,[t(r,{color:"success",size:"small"},{default:e(()=>[l(" OK ")]),_:1})])):i("",!0),s==!1?(o(),a("div",K,[t(r,{color:"error",size:"small"},{default:e(()=>[l(" KO ")]),_:1})])):i("",!0)]),"item-qos_1_allowed":e(({qos_1_allowed:s})=>[s==!0?(o(),a("div",Q,[t(r,{color:"success",size:"small"},{default:e(()=>[l(" OK ")]),_:1})])):i("",!0),s==!1?(o(),a("div",A,[t(r,{color:"error",size:"small"},{default:e(()=>[l(" KO ")]),_:1})])):i("",!0)]),"item-qos_2_allowed":e(({qos_2_allowed:s})=>[s==!0?(o(),a("div",N,[t(r,{color:"success",size:"small"},{default:e(()=>[l(" OK ")]),_:1})])):i("",!0),s==!1?(o(),a("div",R,[t(r,{color:"error",size:"small"},{default:e(()=>[l(" KO ")]),_:1})])):i("",!0)]),"item-retained_msgs_allowed":e(({retained_msgs_allowed:s})=>[s==!0?(o(),a("div",L,[t(r,{color:"success",size:"small"},{default:e(()=>[l(" Allowed ")]),_:1})])):i("",!0),s==!1?(o(),a("div",M,[t(r,{color:"error",size:"small"},{default:e(()=>[l(" Denied ")]),_:1})])):i("",!0)]),"item-shared_sub_allowed":e(({shared_sub_allowed:s})=>[s==!0?(o(),a("div",$,[t(r,{color:"success",size:"small"},{default:e(()=>[l(" Allowed ")]),_:1})])):i("",!0),s==!1?(o(),a("div",H,[t(r,{color:"error",size:"small"},{default:e(()=>[l(" Denied ")]),_:1})])):i("",!0)]),"item-operation":e(s=>[k("div",j,[t(c,{size:"20",icon:"mdi-playlist-edit",onClick:z=>_.editItem(s),color:"secondary"},null,8,["onClick"]),t(c,{size:"20",icon:"mdi-delete-outline",onClick:z=>_.deleteItem(s),color:"error"},null,8,["onClick"])])]),_:1},8,["headers","items","loading"])]),_:1})]),_:1})]),_:1})]),_:1})}const Z=w(T,[["render",F]]);export{Z as default};
