import{m as _,n as w,r as y,o as x,p as q,w as l,g as e,q as a,s as h,v as U,x as p,k as d,y as V,z as C,A as k,B as u,aA as c,l as b}from"./index.ddc7c489.js";import{t as n}from"./form.e67fff3c.js";/* empty css              */import{V as S}from"./VForm.7d086d98.js";import{V as g}from"./VTextField.9ad36453.js";import{V as m}from"./VSwitch.92383bf8.js";import"./VSelectionControl.a710aafb.js";const B={name:"EditMQTTPermissions",data(){return{item:{}}},methods:{async submit(){this.item.topic?await this.$axios.put("/api/permission/"+this.$route.query.id,this.item).then(i=>{n("Permission updated successfully",{type:"success",position:"bottom-center"})}).then(()=>_.push("/mqtt-permissions")).catch(i=>{n(i.message,{type:"warning",position:"bottom-center"})}):n("Please fill all fields ! ",{type:"warning",position:"bottom-center"})},cancel(){_.push("/mqtt-permissions")}},async mounted(){await this.$axios.get("/api/permission/"+this.$route.query.id).then(i=>{this.item=i.data}).catch(i=>{n("Error loading the page, contact your admin ! Details : "+i.message,{type:"warning",position:"bottom-center"})})}};function P(i,o,T,v,t,f){const r=y("RouterLink");return x(),q(u,null,{default:l(()=>[e(a,{cols:"12",md:"12"},{default:l(()=>[e(h,null,{prepend:l(()=>[e(U,{size:"small",icon:"mdi-home"})]),default:l(()=>[e(p,null,{default:l(()=>[e(r,{to:"/"},{default:l(()=>[d("Home")]),_:1})]),_:1}),e(V,null,{default:l(()=>[d(" / ")]),_:1}),e(p,null,{default:l(()=>[e(r,{to:"/mqtt-permissions"},{default:l(()=>[d(" MQTT Permissions ")]),_:1})]),_:1}),e(V,null,{default:l(()=>[d(" / ")]),_:1}),e(p,null,{default:l(()=>[e(r,{to:"/mqtt-permissions-edit?id"+i.$route.query.id},{default:l(()=>[d(" Edit Permission ")]),_:1},8,["to"])]),_:1})]),_:1})]),_:1}),e(a,{cols:"12"},{default:l(()=>[e(C,{title:"Update a permission"},{default:l(()=>[e(k,null,{default:l(()=>[e(S,null,{default:l(()=>[e(u,{style:{"margin-top":"2px"}},{default:l(()=>[e(a,{cols:"12",md:"12",class:"d-flex gap-4"},{default:l(()=>[e(g,{modelValue:t.item.topic,"onUpdate:modelValue":o[0]||(o[0]=s=>t.item.topic=s),label:"topic",placeholder:"topic"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{style:{"margin-top":"2px"}},{default:l(()=>[e(a,{cols:"12",md:"4",style:{"margin-left":"5px"}},{default:l(()=>[e(m,{label:"Publish allowed",modelValue:t.item.publish_allowed,"onUpdate:modelValue":o[1]||(o[1]=s=>t.item.publish_allowed=s)},null,8,["modelValue"])]),_:1}),e(a,{cols:"12",md:"4",style:{"margin-left":"5px"}},{default:l(()=>[e(m,{label:"Subscribe allowed",modelValue:t.item.subscribe_allowed,"onUpdate:modelValue":o[2]||(o[2]=s=>t.item.subscribe_allowed=s)},null,8,["modelValue"])]),_:1}),e(a,{cols:"12",md:"3",style:{"margin-left":"5px"}},{default:l(()=>[e(m,{label:"Retain allowed",modelValue:t.item.retained_msgs_allowed,"onUpdate:modelValue":o[3]||(o[3]=s=>t.item.retained_msgs_allowed=s)},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{style:{"margin-top":"2px"}},{default:l(()=>[e(a,{cols:"12",class:"d-flex gap-4"}),e(c),e(a,{cols:"12",md:"4",style:{"margin-left":"5px"}},{default:l(()=>[e(m,{label:"QOS 0 allowed",modelValue:t.item.qos_0_allowed,"onUpdate:modelValue":o[4]||(o[4]=s=>t.item.qos_0_allowed=s)},null,8,["modelValue"])]),_:1}),e(a,{cols:"12",md:"4",style:{"margin-left":"5px"}},{default:l(()=>[e(m,{label:"QOS 1 allowed",modelValue:t.item.qos_1_allowed,"onUpdate:modelValue":o[5]||(o[5]=s=>t.item.qos_1_allowed=s)},null,8,["modelValue"])]),_:1}),e(a,{cols:"12",md:"3",style:{"margin-left":"5px"}},{default:l(()=>[e(m,{label:"QOS 2 allowed",modelValue:t.item.qos_2_allowed,"onUpdate:modelValue":o[6]||(o[6]=s=>t.item.qos_2_allowed=s)},null,8,["modelValue"])]),_:1}),e(c)]),_:1}),e(u,{style:{"margin-top":"2px"}},{default:l(()=>[e(a,{cols:"12",class:"d-flex gap-4"}),e(a,{cols:"12",md:"4",style:{"margin-left":"5px"}},{default:l(()=>[e(m,{label:"Shared Sub Allowed",modelValue:t.item.shared_sub_allowed,"onUpdate:modelValue":o[7]||(o[7]=s=>t.item.shared_sub_allowed=s)},null,8,["modelValue"])]),_:1}),e(a,{cols:"12",md:"7",class:"d-flex gap-4"},{default:l(()=>[e(g,{modelValue:t.item.shared_group,"onUpdate:modelValue":o[8]||(o[8]=s=>t.item.shared_group=s),label:"Shared Group",placeholder:"sharedgroup"},null,8,["modelValue"])]),_:1}),e(a,{cols:"12",class:"d-flex gap-4"},{default:l(()=>[e(b,{color:"primary",onClick:f.submit},{default:l(()=>[d(" Update ")]),_:1},8,["onClick"]),e(b,{color:"secondary",variant:"tonal",onClick:f.cancel},{default:l(()=>[d(" Cancel ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const z=w(B,[["render",P]]);export{z as default};
