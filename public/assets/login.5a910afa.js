import{d as V,u as y,E as u,o as g,e as k,i as e,w as s,B as C,be as x,l as i,ay as m,bt as E,C as v,s as f,j as n,m as b,A as T,k as w,f as p,bu as B,n as S}from"./index.16be124a.js";import{t as d}from"./form.bdac96a9.js";/* empty css              */import{V as I}from"./VForm.40131a26.js";import{V as _}from"./VTextField.2b231347.js";import{b as h}from"./route-block.011d1056.js";const P="/assets/bee-2.5f903990.png",U="/assets/bee-1.d2c47a0a.png",j={class:"auth-wrapper d-flex align-center justify-center pa-4"},A=p("p",{class:"mb-0"}," Please sign-in with an account allowed on the ESE Api ",-1),D=p("br",null,null,-1),N=p("br",null,null,-1),r=B(),q={name:"Login",data(){return{username:u(""),password:u("")}},methods:{async login(){let c={username:this.username,password:this.password};await this.$axios.post("/api/login",c).then(t=>{r.updateToken(t.data.token),r.updateUsername(t.data.username),r.updatePassword(this.password),r.updateIsAuthenticated(!0),S.push("/")}).catch(function(t){t.response?d("Error authenticating user, contact your admin ! Details : "+t.response.data,{type:"warning",position:"bottom-center"}):t.request?d("Error in request, contact your admin ! Details : "+t,{type:"warning",position:"bottom-center"}):d("Error, contact your admin ! Details : "+t.message,{type:"warning",position:"bottom-center"})})}}},F=V({...q,setup(c){y();const t=u(!1);return(o,a)=>(g(),k("div",j,[e(T,{class:"auth-card pa-4 pt-7","max-width":"448"},{default:s(()=>[e(C,{class:"justify-center"},{default:s(()=>[e(x,{class:"font-weight-semibold text-2xl text-uppercase"},{default:s(()=>[i(" ESE Editor ")]),_:1})]),_:1}),e(m,{class:"pt-2"},{default:s(()=>[A]),_:1}),e(m,null,{default:s(()=>[e(I,{onSubmit:E(()=>{},["prevent"])},{default:s(()=>[e(v,null,{default:s(()=>[e(f,{cols:"12"},{default:s(()=>[e(_,{modelValue:o.username,"onUpdate:modelValue":a[0]||(a[0]=l=>o.username=l),label:"Username",type:"text"},null,8,["modelValue"])]),_:1}),e(f,{cols:"12"},{default:s(()=>[e(_,{modelValue:o.password,"onUpdate:modelValue":a[1]||(a[1]=l=>o.password=l),label:"Password",type:n(t)?"text":"password","append-inner-icon":n(t)?"mdi-eye-off-outline":"mdi-eye-outline","onClick:appendInner":a[2]||(a[2]=l=>t.value=!n(t))},null,8,["modelValue","type","append-inner-icon"]),D,e(b,{block:"",type:"submit",onClick:o.login},{default:s(()=>[i(" Login ")]),_:1},8,["onClick"]),N,e(b,{block:"",color:"secondary",variant:"tonal",type:"reset"},{default:s(()=>[i(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1}),e(w,{class:"auth-footer-start-tree d-none d-md-block",src:n(U),width:250},null,8,["src"]),e(w,{src:n(P),class:"auth-footer-end-tree d-none d-md-block",width:350},null,8,["src"])]))}});typeof h=="function"&&h(F);export{F as default};
