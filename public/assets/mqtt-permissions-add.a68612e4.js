import{m as _,n as g,r as x,o as y,p as q,w as e,g as l,q as t,s as h,v as C,x as r,k as d,y as V,z as k,A as U,B as m,aA as c,l as w}from"./index.0bb0cce8.js";import{t as p}from"./form.21b59419.js";/* empty css              */import{V as S}from"./VForm.47dab060.js";import{V as b}from"./VTextField.74786d13.js";import{V as i}from"./VSwitch.6239a6b9.js";import"./VSelectionControl.5fad1fa0.js";const B={name:"AddMQTTPermissions",data(){return{item:{publish_allowed:!1,subscribe_allowed:!1,qos_0_allowed:!1,qos_1_allowed:!1,qos_2_allowed:!1,retained_msgs_allowed:!1,shared_sub_allowed:!1},loading:!1}},methods:{async submit(){this.loading=!0,this.item.topic?await this.$axios.post("/api/permission",this.item).then(u=>{p("Permission created successfully",{type:"success",position:"bottom-center"})}).then(()=>_.push("/mqtt-permissions")).catch(u=>{p("Error submitting request, contact your admin ! Details : "+u.message,{type:"warning",position:"bottom-center"}),this.loading=!1}):(p("Please fill all fields ! ",{type:"warning",position:"bottom-center"}),this.loading=!1)},cancel(){_.push("/mqtt-permissions")}}};function P(u,s,A,T,o,f){const n=x("RouterLink");return y(),q(m,null,{default:e(()=>[l(t,{cols:"12",md:"12"},{default:e(()=>[l(h,null,{prepend:e(()=>[l(C,{size:"small",icon:"mdi-home"})]),default:e(()=>[l(r,null,{default:e(()=>[l(n,{to:"/"},{default:e(()=>[d("Home")]),_:1})]),_:1}),l(V,null,{default:e(()=>[d(" / ")]),_:1}),l(r,null,{default:e(()=>[l(n,{to:"/mqtt-permissions"},{default:e(()=>[d(" MQTT Permissions ")]),_:1})]),_:1}),l(V,null,{default:e(()=>[d(" / ")]),_:1}),l(r,null,{default:e(()=>[l(n,{to:"/mqtt-permissions-add"},{default:e(()=>[d(" Add Permission ")]),_:1})]),_:1})]),_:1})]),_:1}),l(t,{cols:"12"},{default:e(()=>[l(k,{title:"Create a new permission"},{default:e(()=>[l(U,null,{default:e(()=>[l(S,null,{default:e(()=>[l(m,{style:{"margin-top":"2px"}},{default:e(()=>[l(t,{cols:"12",md:"12",class:"d-flex gap-4"},{default:e(()=>[l(b,{modelValue:o.item.topic,"onUpdate:modelValue":s[0]||(s[0]=a=>o.item.topic=a),label:"topic",placeholder:"topic"},null,8,["modelValue"])]),_:1})]),_:1}),l(m,{style:{"margin-top":"2px"}},{default:e(()=>[l(t,{cols:"12",md:"4",style:{"margin-left":"5px"}},{default:e(()=>[l(i,{label:"Publish allowed",modelValue:o.item.publish_allowed,"onUpdate:modelValue":s[1]||(s[1]=a=>o.item.publish_allowed=a)},null,8,["modelValue"])]),_:1}),l(t,{cols:"12",md:"4",style:{"margin-left":"5px"}},{default:e(()=>[l(i,{label:"Subscribe allowed",modelValue:o.item.subscribe_allowed,"onUpdate:modelValue":s[2]||(s[2]=a=>o.item.subscribe_allowed=a)},null,8,["modelValue"])]),_:1}),l(t,{cols:"12",md:"3",style:{"margin-left":"5px"}},{default:e(()=>[l(i,{label:"Retain allowed",modelValue:o.item.retained_msgs_allowed,"onUpdate:modelValue":s[3]||(s[3]=a=>o.item.retained_msgs_allowed=a)},null,8,["modelValue"])]),_:1})]),_:1}),l(m,{style:{"margin-top":"2px"}},{default:e(()=>[l(t,{cols:"12",class:"d-flex gap-4"}),l(c),l(t,{cols:"12",md:"4",style:{"margin-left":"5px"}},{default:e(()=>[l(i,{label:"QOS 0 allowed",modelValue:o.item.qos_0_allowed,"onUpdate:modelValue":s[4]||(s[4]=a=>o.item.qos_0_allowed=a)},null,8,["modelValue"])]),_:1}),l(t,{cols:"12",md:"4",style:{"margin-left":"5px"}},{default:e(()=>[l(i,{label:"QOS 1 allowed",modelValue:o.item.qos_1_allowed,"onUpdate:modelValue":s[5]||(s[5]=a=>o.item.qos_1_allowed=a)},null,8,["modelValue"])]),_:1}),l(t,{cols:"12",md:"3",style:{"margin-left":"5px"}},{default:e(()=>[l(i,{label:"QOS 2 allowed",modelValue:o.item.qos_2_allowed,"onUpdate:modelValue":s[6]||(s[6]=a=>o.item.qos_2_allowed=a)},null,8,["modelValue"])]),_:1}),l(c)]),_:1}),l(m,{style:{"margin-top":"2px"}},{default:e(()=>[l(t,{cols:"12",class:"d-flex gap-4"}),l(t,{cols:"12",md:"4",style:{"margin-left":"5px"}},{default:e(()=>[l(i,{label:"Shared Sub Allowed",modelValue:o.item.shared_sub_allowed,"onUpdate:modelValue":s[7]||(s[7]=a=>o.item.shared_sub_allowed=a)},null,8,["modelValue"])]),_:1}),l(t,{cols:"12",md:"7",class:"d-flex gap-4"},{default:e(()=>[l(b,{modelValue:o.item.shared_group,"onUpdate:modelValue":s[8]||(s[8]=a=>o.item.shared_group=a),label:"Shared Group",placeholder:"sharedgroup"},null,8,["modelValue"])]),_:1}),l(t,{cols:"12",class:"d-flex gap-4"},{default:e(()=>[l(w,{color:"primary",onClick:f.submit,loading:o.loading},{default:e(()=>[d(" Create ")]),_:1},8,["onClick","loading"]),l(w,{color:"secondary",variant:"tonal",onClick:f.cancel},{default:e(()=>[d(" Cancel ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const F=g(B,[["render",P]]);export{F as default};
