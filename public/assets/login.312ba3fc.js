import{d as V,u as b,D as u,o as h,e as g,g as e,w as s,A as k,be as x,k as r,ay as c,bt as C,B as E,q as f,i as l,l as _,z as v,j as T,f as p,bu as B,m as S}from"./index.40a940c5.js";import{t as d}from"./form.35e1d7cc.js";/* empty css              */import{V as D}from"./VForm.a6d981bf.js";import{V as w}from"./VTextField.1b52f8bd.js";import{b as y}from"./route-block.023af118.js";const I="/assets/simple.5f9e6416.png",P={class:"auth-wrapper d-flex align-center justify-center pa-4"},U=p("p",{class:"mb-0"}," Please sign-in with an account allowed on the Enterprise Security Extension Rest Api ",-1),j=p("br",null,null,-1),q=p("br",null,null,-1),i=B(),A={name:"Login",data(){return{username:u(""),password:u("")}},methods:{async login(){let m={username:this.username,password:this.password};await this.$axios.post("/api/login",m).then(t=>{i.updateToken(t.data.token),i.updateUsername(t.data.username),i.updatePassword(this.password),i.updateIsAuthenticated(!0),S.push("/")}).catch(function(t){t.response?d("Error authenticating user, contact your admin ! Details : "+t.response.data,{type:"warning",position:"bottom-center"}):t.request?d("Error in request, contact your admin ! Details : "+t,{type:"warning",position:"bottom-center"}):d("Error, contact your admin ! Details : "+t.message,{type:"warning",position:"bottom-center"})})}}},N=V({...A,setup(m){b();const t=u(!1);return(o,a)=>(h(),g("div",P,[e(v,{class:"auth-card pa-4 pt-7","max-width":"448"},{default:s(()=>[e(k,{class:"justify-center"},{default:s(()=>[e(x,{class:"font-weight-semibold text-2xl text-uppercase"},{default:s(()=>[r(" ESE Companion ")]),_:1})]),_:1}),e(c,{class:"pt-2 text-center"},{default:s(()=>[U]),_:1}),e(c,null,{default:s(()=>[e(D,{onSubmit:C(()=>{},["prevent"])},{default:s(()=>[e(E,null,{default:s(()=>[e(f,{cols:"12"},{default:s(()=>[e(w,{modelValue:o.username,"onUpdate:modelValue":a[0]||(a[0]=n=>o.username=n),label:"Username",type:"text"},null,8,["modelValue"])]),_:1}),e(f,{cols:"12"},{default:s(()=>[e(w,{modelValue:o.password,"onUpdate:modelValue":a[1]||(a[1]=n=>o.password=n),label:"Password",type:l(t)?"text":"password","append-inner-icon":l(t)?"mdi-eye-off-outline":"mdi-eye-outline","onClick:appendInner":a[2]||(a[2]=n=>t.value=!l(t))},null,8,["modelValue","type","append-inner-icon"]),j,e(_,{block:"",type:"submit",onClick:o.login},{default:s(()=>[r(" Login ")]),_:1},8,["onClick"]),q,e(_,{block:"",color:"secondary",variant:"tonal",type:"reset"},{default:s(()=>[r(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1}),e(T,{src:l(I),class:"auth-footer-end-tree d-none d-md-block",width:550},null,8,["src"])]))}});typeof y=="function"&&y(N);export{N as default};
